<!-- Professional NGO Homepage -->
<div class="animate-fade-in bg-base-100">

  <!-- Hero Section -->
  <section class="relative h-[80vh] flex items-center justify-center text-center text-white bg-ph-blue">
    <div 
      class="absolute inset-0 bg-cover bg-center opacity-20" 
      [style.background-image]="!settingsService.isLowBandwidthMode() ? 'url(\'assets/images/about/slider-1.jpg\')' : 'none'">
    </div>
    <div class="relative z-10 p-4">
      <h1 class="text-4xl md:text-6xl font-extrabold font-display">بيت الصحافة - اليمن</h1>
      <p class="mt-4 text-xl md:text-2xl max-w-3xl mx-auto text-gray-200">
        صحافة مهنية حرة، أولويتها الإنسان.
      </p>
      <div class="mt-8 flex justify-center gap-4">
        <button (click)="onNavigate('#about')" class="px-8 py-3 text-lg font-semibold text-white rounded-lg bg-white/10 hover:bg-white/20 border border-white/30 transition-colors">
          اعرف المزيد عنا
        </button>
      </div>
    </div>
  </section>

  <!-- About Us Section -->
  <section id="about" class="py-20 bg-base-100">
    <div class="container mx-auto px-4 max-w-4xl text-center">
      <h2 class="text-3xl md:text-4xl font-extrabold text-ph-blue font-display">من نحن؟</h2>
      <p class="mt-6 text-lg text-gray-600 leading-relaxed">
        مؤسسة مجتمع مدني تهدف إلى تعزيز حرية الإعلام وخلق مساحة نقاش مهني وعملي للصحفيين والصحفيات، وتبني قضاياهم والعمل على تطوير ودعم الصحافة في اليمن بما يضمن وجود صحافة من أجل الإنسان أولاً وأخيراً.
      </p>
    </div>
  </section>

  <!-- Our Impact Section -->
  <section class="py-20 bg-ph-blue text-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-extrabold font-display">أثرنا في أرقام</h2>
      </div>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        @for(stat of stats(); track stat.label) {
          <div>
            <p class="text-4xl md:text-5xl font-extrabold text-ph-yellow">{{ stat.displayValue.toFixed(0) }}</p>
            <p class="mt-2 text-lg text-gray-300">{{ stat.label }}</p>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- Press Freedom 2025 Section -->
  <section class="py-24 bg-gray-50 overflow-hidden">
    <div class="container mx-auto px-4">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-5xl font-extrabold text-gray-800 font-display">عن حرية الصحافة في اليمن</h2>
            <p class="text-xl text-gray-500 mt-2 font-mono">عام 2025</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <!-- Governorate Chart -->
            <div class="bg-white p-8 rounded-lg shadow-xl transform transition hover:scale-105 duration-500">
                <h3 class="text-xl font-bold mb-6 text-gray-700 border-b pb-2">الانتهاكات حسب المحافظة</h3>
                <div class="space-y-4">
                    @for(gov of violationsByGovernorate(); track gov.name) {
                        <div class="group">
                            <div class="flex justify-between text-sm font-semibold mb-1">
                                <span>{{gov.name}}</span>
                                <span>{{gov.count}}</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-4 overflow-hidden">
                                <div class="bg-ph-blue h-4 rounded-full transition-all duration-1000 ease-out group-hover:bg-ph-blue-dark" [style.width.%]="0" [style.animation]="'growWidth 1s forwards ' + ($index * 0.1) + 's'" [style.--target-width.%]="(gov.count / 414) * 100"></div>
                            </div>
                        </div>
                    }
                </div>
            </div>

            <!-- Perpetrator Chart (Donut) -->
            <div class="bg-white p-8 rounded-lg shadow-xl flex flex-col items-center transform transition hover:scale-105 duration-500">
                <h3 class="text-xl font-bold mb-6 text-gray-700 border-b pb-2 w-full text-center">الانتهاكات حسب الجهة</h3>
                <div class="relative w-64 h-64">
                    <svg class="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                         @for(segment of perpetratorChartData(); track segment.name) {
                            <circle 
                            cx="50" cy="50" r="40" fill="none" stroke-width="15"
                            [attr.stroke-dasharray]="segment.strokeDasharray"
                            [attr.stroke-dashoffset]="segment.strokeDashoffset"
                            [class]="segment.color"
                            class="transition-all duration-1000 ease-out hover:opacity-80">
                            </circle>
                        }
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                        <span class="text-2xl font-bold text-gray-800">{{ totalViolations() }}</span>
                    </div>
                </div>
                <div class="mt-8 w-full grid grid-cols-2 gap-2 text-xs">
                     @for(segment of perpetratorChartData(); track segment.name) {
                        <div class="flex items-center">
                            <span class="w-3 h-3 rounded-full mr-2" [class]="segment.legendColor"></span>
                            <span>{{segment.name}} ({{segment.percentage}}%)</span>
                        </div>
                     }
                </div>
            </div>
        </div>
    </div>
  </section>

  <!-- YemenJPT Section -->
  <section class="yemenjpt-hero py-32 bg-[#0A2256] text-white relative overflow-hidden">
      <div class="absolute inset-0 bg-grid-pattern opacity-10"></div>
      
      <div class="container mx-auto px-4 text-center relative z-10">
          <h2 class="text-7xl md:text-9xl font-black mb-8 tracking-tighter font-display animate-light-up">
              <span class="text-gray-200">Yemen</span><span class="text-ph-yellow">JPT</span>
          </h2>
          
          <div class="min-h-[120px] max-w-4xl mx-auto">
              <p class="text-xl md:text-2xl text-gray-300 font-sans leading-relaxed">
                  {{ typewriterText() }}<span class="typewriter-cursor">▋</span>
              </p>
          </div>

          <div class="mt-12 flex flex-col sm:flex-row justify-center gap-6 transition-opacity duration-1000" [class.opacity-0]="!showButtons()" [class.opacity-100]="showButtons()">
              <button (click)="openAiChat()" class="px-8 py-4 bg-ph-blue hover:bg-ph-blue-dark text-white font-bold rounded-lg shadow-[0_0_20px_rgba(13,43,107,0.5)] hover:shadow-[0_0_30px_rgba(13,43,107,0.8)] transition-all transform hover:-translate-y-1">
                  ابدأ التحقيق (تجربة مجانية)
              </button>
              <button (click)="onNavigate('platform-overview')" class="px-8 py-4 border-2 border-white/30 hover:border-white hover:bg-white/10 text-white font-bold rounded-lg transition-all">
                  تعرف أكثر
              </button>
          </div>
      </div>
  </section>

  <!-- Latest News Section -->
  <section class="py-20 bg-base-100">
    <div class="container mx-auto px-4">
       <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-extrabold text-ph-blue font-display">آخر الأخبار والتقارير</h2>
      </div>
       <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        @for(item of news(); track item.id) {
           <div class="bg-base-100 rounded-lg shadow-md overflow-hidden group">
            @if (!settingsService.isLowBandwidthMode()) {
              <img [ngSrc]="item.imageUrl" alt="{{item.title}}" width="400" height="192" loading="lazy" class="w-full h-48 object-cover">
            } @else {
              <div class="w-full h-48 bg-gray-200"></div>
            }
            <div class="p-6">
              <p class="text-sm text-gray-500">{{ item.category }} - {{ item.date }}</p>
              <h4 class="font-bold text-lg my-2 group-hover:text-ph-blue transition-colors">{{ item.title }}</h4>
              <a href="javascript:void(0)" (click)="onNavigate('news-public')" class="text-sm font-semibold text-ph-blue hover:underline">اقرأ المزيد</a>
            </div>
          </div>
        }
      </div>
    </div>
  </section>
  
  <!-- Partners Section -->
  <section class="py-20 bg-base-200">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-extrabold text-ph-blue font-display">شركاؤنا</h2>
      </div>
      <div class="flex flex-wrap justify-center items-center gap-x-16 gap-y-8">
        @for(partner of partners(); track partner.name) {
          <div class="h-20 flex items-center justify-center" title="{{ partner.name }}">
            @if (!settingsService.isLowBandwidthMode()) {
              <img [ngSrc]="partner.logoUrl" [alt]="partner.name" width="128" height="64" loading="lazy" class="max-h-16 w-auto object-contain grayscale hover:grayscale-0 transition-all duration-300">
            } @else {
              <div class="h-16 w-32 bg-gray-300 rounded-md flex items-center justify-center text-xs text-gray-500">{{partner.name}}</div>
            }
          </div>
        }
      </div>
    </div>
  </section>

</div>

<style>
@keyframes growWidth {
    from { width: 0; }
    to { width: var(--target-width); }
}

.yemenjpt-hero .bg-grid-pattern {
  background-image:
    linear-gradient(rgba(255, 255, 255, 0.07) 1px, transparent 1px),
    linear-gradient(to right, rgba(255, 255, 255, 0.07) 1px, transparent 1px);
  background-size: 2rem 2rem;
}
</style>
